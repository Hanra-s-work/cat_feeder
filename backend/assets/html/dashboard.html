<!-- 
-- +==== BEGIN CatFeeder =================+
-- LOGO: 
-- ..............(..../\
-- ...............)..(.')
-- ..............(../..)
-- ...............\(__)|
-- Inspired by Joan Stark
-- source https://www.asciiart.eu/
-- animals/cats
-- /STOP
-- PROJECT: CatFeeder
-- FILE: dashboard.html
-- CREATION DATE: 25-01-2026
-- LAST Modified: 3:6:12 25-01-2026
-- DESCRIPTION: 
-- This is the project in charge of making the connected cat feeder project work.
-- /STOP
-- COPYRIGHT: (c) Cat Feeder
-- PURPOSE: This is the file that will contain the code for the dashboard file.
-- // AR
-- +==== END CatFeeder =================+
-->
<main class="container">
    <h1>Cat Feeder Dashboard</h1>

    <section id="feeders">
        <h2>Feeders <button id="refresh-feeders" style="font-size: 0.8em; margin-left: 10px;">ðŸ”„ Refresh</button></h2>
        <button id="add-feeder">Add New Feeder</button>
        <div style="max-height: 200px; overflow-y: auto; border: 1px solid var(--pico-muted-border-color); border-radius: 4px; margin: 1rem 0;">
            <table id="feeders-table" style="width: 100%; margin: 0;">
                <thead style="position: sticky; top: 0; background: var(--pico-background-color); z-index: 1;">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>MAC Address</th>
                        <th>Location</th>
                        <th>Coordinates</th>
                    </tr>
                </thead>
                <tbody id="feeders-list">
                    <tr><td colspan="5" style="text-align: center;">Loading...</td></tr>
                </tbody>
            </table>
        </div>
        <div id="feeder-form" style="display: none;">
            <h3>Register Feeder</h3>
            <form id="register-feeder-form">
                <label for="feeder-name">Name</label>
                <input type="text" id="feeder-name" required>

                <label for="feeder-mac">MAC Address</label>
                <input type="text" id="feeder-mac" required>

                <label for="feeder-latitude">Latitude</label>
                <input type="number" step="any" id="feeder-latitude" required>

                <label for="feeder-longitude">Longitude</label>
                <input type="number" step="any" id="feeder-longitude" required>

                <label for="feeder-city">City</label>
                <input type="text" id="feeder-city" required>

                <label for="feeder-country">Country</label>
                <input type="text" id="feeder-country" required>

                <button type="submit">Register</button>
                <button type="button" id="cancel-feeder">Cancel</button>
            </form>
        </div>
        <h3>Check Feeder Status</h3>
        <form id="check-feeder-status-form">
            <label for="check-feeder-name">Feeder Name</label>
            <input type="text" id="check-feeder-name" required>
            <button type="submit">Check Status</button>
        </form>
        <h3>Feed</h3>
        <form id="feed-form">
            <label for="feed-feeder-mac">Feeder MAC Address</label>
            <input type="text" id="feed-feeder-mac" required>
            <label for="feed-beacon-mac">Beacon MAC (pet)</label>
            <input type="text" id="feed-beacon-mac" required>
            <label for="feed-amount">Amount (grams)</label>
            <input type="number" id="feed-amount" min="1" required>
            <button type="submit">Feed</button>
        </form>
    </section>

    <section id="beacons">
        <h2>Beacons <button id="refresh-beacons" style="font-size: 0.8em; margin-left: 10px;">ðŸ”„ Refresh</button></h2>
        <button id="add-beacon">Add New Beacon</button>
        <div style="max-height: 200px; overflow-y: auto; border: 1px solid var(--pico-muted-border-color); border-radius: 4px; margin: 1rem 0;">
            <table id="beacons-table" style="width: 100%; margin: 0;">
                <thead style="position: sticky; top: 0; background: var(--pico-background-color); z-index: 1;">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>MAC Address</th>
                    </tr>
                </thead>
                <tbody id="beacons-list">
                    <tr><td colspan="3" style="text-align: center;">Loading...</td></tr>
                </tbody>
            </table>
        </div>
        <div id="beacon-form" style="display: none;">
            <h3>Register Beacon</h3>
            <form id="register-beacon-form">
                <label for="beacon-name">Name</label>
                <input type="text" id="beacon-name" required>

                <label for="beacon-mac">MAC Address</label>
                <input type="text" id="beacon-mac" required>

                <!-- Beacon is an identifier attached to a pet (no location fields) -->

                <button type="submit">Register</button>
                <button type="button" id="cancel-beacon">Cancel</button>
            </form>
        </div>
        <h3>Check Beacon Status</h3>
        <form id="check-beacon-status-form">
            <label for="check-beacon-name">Beacon Name</label>
            <input type="text" id="check-beacon-name" required>
            <button type="submit">Check Status</button>
        </form>
    </section>

    <section id="pets">
        <h2>Pets <button id="refresh-pets" style="font-size: 0.8em; margin-left: 10px;">ðŸ”„ Refresh</button></h2>
        <button id="add-pet">Add New Pet</button>
        <div style="max-height: 200px; overflow-y: auto; border: 1px solid var(--pico-muted-border-color); border-radius: 4px; margin: 1rem 0;">
            <table id="pets-table" style="width: 100%; margin: 0;">
                <thead style="position: sticky; top: 0; background: var(--pico-background-color); z-index: 1;">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Breed</th>
                        <th>Age</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody id="pets-list">
                    <tr><td colspan="5" style="text-align: center;">Loading...</td></tr>
                </tbody>
            </table>
        </div>
        <div id="pet-form" style="display: none;">
            <h3>Register Pet</h3>
            <form id="register-pet-form">
                <label for="pet-beacon-mac">Beacon MAC (pet tag)</label>
                <input type="text" id="pet-beacon-mac" required>
                <label for="pet-name">Name</label>
                <input type="text" id="pet-name" required>

                <label for="pet-breed">Breed</label>
                <input type="text" id="pet-breed" required>

                <label for="pet-age">Age</label>
                <input type="number" id="pet-age" min="0" required>

                <label for="pet-weight">Weight (kg)</label>
                <input type="number" step="any" id="pet-weight" required>

                <label for="pet-microchip">Microchip ID</label>
                <input type="text" id="pet-microchip">

                <button type="submit">Register</button>
                <button type="button" id="cancel-pet">Cancel</button>
            </form>
        </div>
        <h3>Get Pet Info</h3>
        <form id="get-pet-form">
            <label for="get-pet-id">Pet ID</label>
            <input type="number" id="get-pet-id" required>
            <button type="submit">Get Info</button>
        </form>
    </section>

    <section id="activity">
        <h2>Recent Activity <button id="refresh-activity" style="font-size: 0.8em; margin-left: 10px;">ðŸ”„ Refresh</button></h2>
        <div style="max-height: 200px; overflow-y: auto; border: 1px solid var(--pico-muted-border-color); border-radius: 4px; margin: 1rem 0;">
            <table id="activity-table" style="width: 100%; margin: 0;">
                <thead style="position: sticky; top: 0; background: var(--pico-background-color); z-index: 1;">
                    <tr>
                        <th>Time</th>
                        <th>Type</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody id="activity-list">
                    <tr><td colspan="3" style="text-align: center;">Loading...</td></tr>
                </tbody>
            </table>
        </div>
    </section>

    <div id="message"></div>
</main>