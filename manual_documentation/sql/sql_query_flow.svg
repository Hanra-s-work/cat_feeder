<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="748px" preserveAspectRatio="none" style="width:1187px;height:748px;background:#FFFFFF;" version="1.1" viewBox="0 0 1187 748" width="1187px" zoomAndPan="magnify"><defs/><g><g><title>SQL</title><rect fill="#FFFFFF" height="562.1953" style="stroke:#000000;stroke-width:1;" width="10" x="369.2964" y="98.4297"/></g><g><title>SQLCacheOrchestrator</title><rect fill="#FFFFFF" height="488.9297" style="stroke:#000000;stroke-width:1;" width="10" x="562.064" y="127.5625"/></g><g><title>RedisCaching</title><rect fill="#FFFFFF" height="155.4688" style="stroke:#000000;stroke-width:1;" width="10" x="756.6934" y="156.6953"/></g><g><title>RedisCaching</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="756.6934" y="558.2266"/></g><g><title>SQLManageConnections</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#000000;stroke-width:1;" width="10" x="933.0986" y="370.4297"/></g><g><title>MariaDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="1133.147" y="441.6953"/></g><rect fill="#FFFFFF" height="481.9297" style="stroke:#000000;stroke-width:1;" width="1165.7808" x="15" y="171.6953"/><rect fill="#FFFFFF" height="377.3984" style="stroke:none;stroke-width:1;" width="1165.7808" x="15" y="276.2266"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="58.2651" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="62" x2="62" y1="67.2969" y2="670.625"/></g><g><title>SQL</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="370.2964" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="373.4434" x2="373.4434" y1="67.2969" y2="670.625"/></g><g><title>SQLCacheOrchestrator</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="563.064" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="566.998" x2="566.998" y1="67.2969" y2="670.625"/></g><g><title>RedisCaching</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="757.6934" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="761.2007" x2="761.2007" y1="67.2969" y2="670.625"/></g><g><title>SQLManageConnections</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="934.0986" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="937.186" x2="937.186" y1="67.2969" y2="670.625"/></g><g><title>MariaDB</title><rect fill="#000000" fill-opacity="0.00000" height="603.3281" width="8" x="1134.147" y="67.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1137.5132" x2="1137.5132" y1="67.2969" y2="670.625"/></g><g class="participant participant-head" data-participant="Client"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="54.5303" x="35" y="36"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="42" y="55.9951">Client</text></g><g class="participant participant-tail" data-participant="Client"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="54.5303" x="35" y="669.625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="42" y="689.6201">Client</text></g><g class="participant participant-head" data-participant="SQL"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="41.7061" x="353.4434" y="36"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="27.7061" x="360.4434" y="55.9951">SQL</text></g><g class="participant participant-tail" data-participant="SQL"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="41.7061" x="353.4434" y="669.625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="27.7061" x="360.4434" y="689.6201">SQL</text></g><g class="participant participant-head" data-participant="Cache"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="174.1318" x="479.998" y="36"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="160.1318" x="486.998" y="55.9951">SQLCacheOrchestrator</text></g><g class="participant participant-tail" data-participant="Cache"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="174.1318" x="479.998" y="669.625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="160.1318" x="486.998" y="689.6201">SQLCacheOrchestrator</text></g><g class="participant participant-head" data-participant="Redis"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="108.9854" x="707.2007" y="36"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.9854" x="714.2007" y="55.9951">RedisCaching</text></g><g class="participant participant-tail" data-participant="Redis"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="108.9854" x="707.2007" y="669.625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.9854" x="714.2007" y="689.6201">RedisCaching</text></g><g class="participant participant-head" data-participant="Conn"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="183.8252" x="846.186" y="36"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169.8252" x="853.186" y="55.9951">SQLManageConnections</text></g><g class="participant participant-tail" data-participant="Conn"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="183.8252" x="846.186" y="669.625"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169.8252" x="853.186" y="689.6201">SQLManageConnections</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.2676" x="1105.5132" y="63.9951">MariaDB</text><path d="M1120.147,15 C1120.147,5 1138.147,5 1138.147,5 C1138.147,5 1156.147,5 1156.147,15 L1156.147,41 C1156.147,51 1138.147,51 1138.147,51 C1138.147,51 1120.147,51 1120.147,41 L1120.147,15" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1120.147,15 C1120.147,25 1138.147,25 1138.147,25 C1138.147,25 1156.147,25 1156.147,15" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.2676" x="1105.5132" y="682.6201">MariaDB</text><path d="M1120.147,695.9219 C1120.147,685.9219 1138.147,685.9219 1138.147,685.9219 C1138.147,685.9219 1156.147,685.9219 1156.147,695.9219 L1156.147,721.9219 C1156.147,731.9219 1138.147,731.9219 1138.147,731.9219 C1138.147,731.9219 1120.147,731.9219 1120.147,721.9219 L1120.147,695.9219" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1120.147,695.9219 C1120.147,705.9219 1138.147,705.9219 1138.147,705.9219 C1138.147,705.9219 1156.147,705.9219 1156.147,695.9219" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g><title>SQL</title><rect fill="#FFFFFF" height="562.1953" style="stroke:#000000;stroke-width:1;" width="10" x="369.2964" y="98.4297"/></g><g><title>SQLCacheOrchestrator</title><rect fill="#FFFFFF" height="488.9297" style="stroke:#000000;stroke-width:1;" width="10" x="562.064" y="127.5625"/></g><g><title>RedisCaching</title><rect fill="#FFFFFF" height="155.4688" style="stroke:#000000;stroke-width:1;" width="10" x="756.6934" y="156.6953"/></g><g><title>RedisCaching</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="756.6934" y="558.2266"/></g><g><title>SQLManageConnections</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#000000;stroke-width:1;" width="10" x="933.0986" y="370.4297"/></g><g><title>MariaDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="1133.147" y="441.6953"/></g><g class="message" data-participant-1="Client" data-participant-2="SQL"><polygon fill="#000000" points="357.2964,94.4297,367.2964,98.4297,357.2964,102.4297,361.2964,98.4297" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="62.2651" x2="363.2964" y1="98.4297" y2="98.4297"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="288.0313" x="69.2651" y="93.3638">get_data_from_table(table, columns, where)</text></g><g class="message" data-participant-1="SQL" data-participant-2="Cache"><polygon fill="#000000" points="550.064,123.5625,560.064,127.5625,550.064,131.5625,554.064,127.5625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="379.2964" x2="556.064" y1="127.5625" y2="127.5625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.0981" x="386.2964" y="122.4966">get_cached_or_fetch()</text></g><g class="message" data-participant-1="Cache" data-participant-2="Redis"><polygon fill="#000000" points="744.6934,152.6953,754.6934,156.6953,744.6934,160.6953,748.6934,156.6953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="572.064" x2="750.6934" y1="156.6953" y2="156.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99.709" x="579.064" y="151.6294">get(cache_key)</text></g><path d="M15,171.6953 L79.4429,171.6953 L79.4429,178.8281 L69.4429,188.8281 L15,188.8281 L15,171.6953" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="481.9297" style="stroke:#000000;stroke-width:1;" width="1165.7808" x="15" y="171.6953"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="30" y="184.7622">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71.9941" x="94.4429" y="183.9058">[Cache HIT]</text><g class="message" data-participant-1="Redis" data-participant-2="Cache"><polygon fill="#000000" points="583.064,205.9609,573.064,209.9609,583.064,213.9609,579.064,209.9609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="577.064" x2="755.6934" y1="209.9609" y2="209.9609"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.5322" x="589.064" y="204.895">cached_data</text></g><g class="message" data-participant-1="Cache" data-participant-2="SQL"><polygon fill="#000000" points="390.2964,235.0938,380.2964,239.0938,390.2964,243.0938,386.2964,239.0938" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="384.2964" x2="561.064" y1="239.0938" y2="239.0938"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.5322" x="396.2964" y="234.0278">cached_data</text></g><g class="message" data-participant-1="SQL" data-participant-2="Client"><polygon fill="#000000" points="73.2651,264.2266,63.2651,268.2266,73.2651,272.2266,69.2651,268.2266" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="67.2651" x2="368.2964" y1="268.2266" y2="268.2266"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.6772" x="79.2651" y="263.1606">return data</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="15" x2="1180.7808" y1="277.2266" y2="277.2266"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82.0757" x="20" y="287.437">[Cache MISS]</text><g class="message" data-participant-1="Redis" data-participant-2="Cache"><polygon fill="#000000" points="583.064,308.1641,573.064,312.1641,583.064,316.1641,579.064,312.1641" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="577.064" x2="760.6934" y1="312.1641" y2="312.1641"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="33.9155" x="589.064" y="307.0981">None</text></g><g class="message" data-participant-1="Cache" data-participant-2="SQL"><polygon fill="#000000" points="390.2964,337.2969,380.2964,341.2969,390.2964,345.2969,386.2964,341.2969" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="384.2964" x2="561.064" y1="341.2969" y2="341.2969"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.7676" x="396.2964" y="336.231">execute query (fallback)</text></g><g class="message" data-participant-1="SQL" data-participant-2="Conn"><polygon fill="#000000" points="921.0986,366.4297,931.0986,370.4297,921.0986,374.4297,925.0986,370.4297" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="379.2964" x2="927.0986" y1="370.4297" y2="370.4297"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="182.2095" x="386.2964" y="365.3638">execute_query(sql, params)</text></g><g class="message" data-participant-1="Conn" data-participant-2="Conn"><line style="stroke:#000000;stroke-width:1;" x1="943.0986" x2="985.0986" y1="399.5625" y2="399.5625"/><line style="stroke:#000000;stroke-width:1;" x1="985.0986" x2="985.0986" y1="399.5625" y2="412.5625"/><line style="stroke:#000000;stroke-width:1;" x1="944.0986" x2="985.0986" y1="412.5625" y2="412.5625"/><polygon fill="#000000" points="954.0986,408.5625,944.0986,412.5625,954.0986,416.5625,950.0986,412.5625" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.0483" x="950.0986" y="394.4966">get_connection from pool</text></g><g class="message" data-participant-1="Conn" data-participant-2="DB"><polygon fill="#000000" points="1121.147,437.6953,1131.147,441.6953,1121.147,445.6953,1125.147,441.6953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="943.0986" x2="1127.147" y1="441.6953" y2="441.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="90.6001" x="950.0986" y="436.6294">SELECT query</text></g><g class="message" data-participant-1="DB" data-participant-2="Conn"><polygon fill="#000000" points="954.0986,466.8281,944.0986,470.8281,954.0986,474.8281,950.0986,470.8281" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="948.0986" x2="1137.147" y1="470.8281" y2="470.8281"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="71.8999" x="960.0986" y="465.7622">result rows</text></g><g class="message" data-participant-1="Conn" data-participant-2="SQL"><polygon fill="#000000" points="390.2964,495.9609,380.2964,499.9609,390.2964,503.9609,386.2964,499.9609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="384.2964" x2="937.0986" y1="499.9609" y2="499.9609"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.688" x="396.2964" y="494.895">processed result</text></g><g class="message" data-participant-1="SQL" data-participant-2="Cache"><polygon fill="#000000" points="550.064,525.0938,560.064,529.0938,550.064,533.0938,554.064,529.0938" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="379.2964" x2="556.064" y1="529.0938" y2="529.0938"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="81.4595" x="386.2964" y="524.0278">return result</text></g><g class="message" data-participant-1="Cache" data-participant-2="Redis"><polygon fill="#000000" points="744.6934,554.2266,754.6934,558.2266,744.6934,562.2266,748.6934,558.2266" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="572.064" x2="750.6934" y1="558.2266" y2="558.2266"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.6294" x="579.064" y="553.1606">set(cache_key, result, ttl)</text></g><g class="message" data-participant-1="Redis" data-participant-2="Cache"><polygon fill="#000000" points="583.064,583.3594,573.064,587.3594,583.064,591.3594,579.064,587.3594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="577.064" x2="760.6934" y1="587.3594" y2="587.3594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="18.7573" x="589.064" y="582.2935">OK</text></g><g class="message" data-participant-1="Cache" data-participant-2="SQL"><polygon fill="#000000" points="390.2964,612.4922,380.2964,616.4922,390.2964,620.4922,386.2964,616.4922" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="384.2964" x2="566.064" y1="616.4922" y2="616.4922"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.064" x="396.2964" y="611.4263">result</text></g><g class="message" data-participant-1="SQL" data-participant-2="Client"><polygon fill="#000000" points="73.2651,641.625,63.2651,645.625,73.2651,649.625,69.2651,645.625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="67.2651" x2="368.2964" y1="645.625" y2="645.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.6772" x="79.2651" y="640.5591">return data</text></g><!--SRC=[ZLFBJiCm4BpxAvQUWXH-e8SUsY9HqOAWtAF5sROHhXriXyVVOwzJyYW8Sd1YxypkZcTpuGzq9AWLLbg86gslP5MZzZ1Pg8gqdm0wI9_3yFPXpR7mFWiiK1xeteR5UOlUs9GbdWwnZrHMBfvNUiyOFZZBjq6DUreOhKdwocYNyeMzAD7ZCpg2oGPjXSivXvPp8LBJS3MBBKvXJxw8u69dpR4894KPhpb8evgZTZcy7yZIfS1Gv0qziJOHbfY4kqzfPFmi2sEB7Nbvo7gCf57mAx9O3xCoPXKlzDc39xa2bKzCk5az2GWF1-2ggzlMZ0eOq5OugHk7kUd8vakOWYNVM0qS9-NQHc6pscv_hdTdD76af56tyR3VGji1VP1i0kYr8Vi9sGwLUaRvSjcrCsF7lf458pFtgd88XkFH9Mntbz7VhbhOTJdOXkzvWEWfrCQe0NGvdyBsUdszU4fT3TE76OdxvJp9vhIMN1EyiERTZSMty5w1a_BQ6adEKTdInyoXZk4ujRxqYEFHSVtHoLja3jwhqNLrxfoPUN_xFojFYdxHmRFzvtJfKeWUA_v3Nm00]--></g></svg>