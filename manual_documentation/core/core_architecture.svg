<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="682px" preserveAspectRatio="none" style="width:908px;height:682px;background:#FFFFFF;" version="1.1" viewBox="0 0 908 682" width="908px" zoomAndPan="magnify"><defs/><g><!--cluster Core Layer--><g class="cluster" data-entity="Core Layer" data-source-line="36" data-uid="ent0002" id="cluster_Core Layer"><path d="M13.5,45.14 L99.5596,45.14 A3.75,3.75 0 0 1 102.0596,47.64 L109.0596,67.4369 L637.5,67.4369 A2.5,2.5 0 0 1 640,69.9369 L640,672.98 A2.5,2.5 0 0 1 637.5,675.48 L13.5,675.48 A2.5,2.5 0 0 1 11,672.98 L11,47.64 A2.5,2.5 0 0 1 13.5,45.14" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="11" x2="109.0596" y1="67.4369" y2="67.4369"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85.0596" x="15" y="60.1351">Core Layer</text></g><!--class RuntimeManager--><g class="entity" data-entity="RuntimeManager" data-source-line="37" data-uid="ent0003" id="entity_RuntimeManager"><rect fill="#FFFFFF" height="174.375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="271.5498" x="27.23" y="80.14"/><ellipse cx="99.02" cy="94.14" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M101.9888,99.7806 Q101.4107,100.0775 100.77,100.2181 Q100.1294,100.3744 99.4263,100.3744 Q96.9263,100.3744 95.5982,98.7337 Q94.2857,97.0775 94.2857,93.9525 Q94.2857,90.8275 95.5982,89.1712 Q96.9263,87.515 99.4263,87.515 Q100.1294,87.515 100.77,87.6712 Q101.4263,87.8275 101.9888,88.1244 L101.9888,90.8431 Q101.3638,90.265 100.77,89.9994 Q100.1763,89.7181 99.5513,89.7181 Q98.2075,89.7181 97.52,90.7962 Q96.8325,91.8587 96.8325,93.9525 Q96.8325,96.0462 97.52,97.1244 Q98.2075,98.1869 99.5513,98.1869 Q100.1763,98.1869 100.77,97.9212 Q101.3638,97.64 101.9888,97.0619 L101.9888,99.7806 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.4697" x="116.52" y="98.9867">RuntimeManager</text><line style="stroke:#000000;stroke-width:1;" x1="28.23" x2="297.7798" y1="108.14" y2="108.14"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="35.23" y="118.7884"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="175.7246" x="45.23" y="125.1351">_instances: Dict[str, Any]</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="35.23" y="135.0853"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="167.3848" x="45.23" y="141.432">_classes: Dict[str, Type]</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="35.23" y="151.3822"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="203.3076" x="45.23" y="157.7289">_thread_locks: Dict[str, Lock]</text><line style="stroke:#000000;stroke-width:1;" x1="28.23" x2="297.7798" y1="165.0306" y2="165.0306"/><ellipse cx="38.23" cy="178.6791" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="247.5498" x="45.23" y="182.0257">set(service, *args, **kwargs): None</text><ellipse cx="38.23" cy="194.9759" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="221.1699" x="45.23" y="198.3226">get(service, *args, **kwargs): T</text><ellipse cx="38.23" cy="211.2728" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="141.0117" x="45.23" y="214.6195">exists(service): bool</text><ellipse cx="38.23" cy="227.5697" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="202.1729" x="45.23" y="230.9164">get_all_instances(): List[Any]</text><ellipse cx="38.23" cy="243.8666" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="91.1504" x="45.23" y="247.2132">clear(): None</text></g><!--class FinalSingleton--><g class="entity" data-entity="FinalSingleton" data-source-line="49" data-uid="ent0004" id="entity_FinalSingleton"><rect fill="#FFFFFF" height="125.4844" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="265.6162" x="346.19" y="331.51"/><ellipse cx="425.6226" cy="345.51" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M428.5914,351.1506 Q428.0132,351.4475 427.3726,351.5881 Q426.732,351.7444 426.0289,351.7444 Q423.5289,351.7444 422.2007,350.1038 Q420.8882,348.4475 420.8882,345.3225 Q420.8882,342.1975 422.2007,340.5413 Q423.5289,338.885 426.0289,338.885 Q426.732,338.885 427.3726,339.0413 Q428.0289,339.1975 428.5914,339.4944 L428.5914,342.2131 Q427.9664,341.635 427.3726,341.3694 Q426.7789,341.0881 426.1539,341.0881 Q424.8101,341.0881 424.1226,342.1663 Q423.4351,343.2288 423.4351,345.3225 Q423.4351,347.4163 424.1226,348.4944 Q424.8101,349.5569 426.1539,349.5569 Q426.7789,349.5569 427.3726,349.2913 Q427.9664,349.01 428.5914,348.4319 L428.5914,351.1506 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.251" x="443.1226" y="350.3567">FinalSingleton</text><line style="stroke:#000000;stroke-width:1;" x1="347.19" x2="610.8062" y1="359.51" y2="359.51"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="354.19" y="370.1584"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="188.043" x="364.19" y="376.5051">_instances: Dict[type, Self]</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="354.19" y="386.4553"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="86.3242" x="364.19" y="392.802">_lock: RLock</text><line style="stroke:#000000;stroke-width:1;" x1="347.19" x2="610.8062" y1="400.1038" y2="400.1038"/><ellipse cx="357.19" cy="413.7522" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="241.6162" x="364.19" y="417.0989">__new__(cls, *args, **kwargs): Self</text><ellipse cx="357.19" cy="430.0491" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126.4854" x="364.19" y="433.3957">async_init(): None</text><ellipse cx="357.19" cy="446.3459" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124.9199" x="364.19" y="449.6926">shutdown(): None</text></g><!--class FinalClass--><g class="entity" data-entity="FinalClass" data-source-line="58" data-uid="ent0005" id="entity_FinalClass"><rect fill="#FFFFFF" height="76.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="290.0752" x="333.96" y="129.03"/><ellipse cx="440.1895" cy="143.03" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M443.1582,148.6706 Q442.5801,148.9675 441.9395,149.1081 Q441.2989,149.2644 440.5957,149.2644 Q438.0957,149.2644 436.7676,147.6237 Q435.4551,145.9675 435.4551,142.8425 Q435.4551,139.7175 436.7676,138.0612 Q438.0957,136.405 440.5957,136.405 Q441.2989,136.405 441.9395,136.5612 Q442.5957,136.7175 443.1582,137.0144 L443.1582,139.7331 Q442.5332,139.155 441.9395,138.8894 Q441.3457,138.6081 440.7207,138.6081 Q439.377,138.6081 438.6895,139.6862 Q438.002,140.7487 438.002,142.8425 Q438.002,144.9362 438.6895,146.0144 Q439.377,147.0769 440.7207,147.0769 Q441.3457,147.0769 441.9395,146.8112 Q442.5332,146.53 443.1582,145.9519 L443.1582,148.6706 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.1162" x="457.6895" y="147.8767">FinalClass</text><line style="stroke:#000000;stroke-width:1;" x1="334.96" x2="623.0352" y1="157.03" y2="157.03"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.2041" x="339.96" y="174.0251">&#171;metaclass&#187;</text><line style="stroke:#000000;stroke-width:1;" x1="334.96" x2="623.0352" y1="181.3269" y2="181.3269"/><ellipse cx="344.96" cy="194.9753" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="266.0752" x="351.96" y="198.322">__new__(mcs, name, bases, dct): type</text></g><!--class RuntimeControl--><g class="entity" data-entity="RuntimeControl" data-source-line="64" data-uid="ent0006" id="entity_RuntimeControl"><rect fill="#FFFFFF" height="125.4844" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="259.5186" x="349.24" y="534"/><ellipse cx="420.2405" cy="548" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M423.2092,553.6406 Q422.6311,553.9375 421.9905,554.0781 Q421.3499,554.2344 420.6467,554.2344 Q418.1467,554.2344 416.8186,552.5938 Q415.5061,550.9375 415.5061,547.8125 Q415.5061,544.6875 416.8186,543.0313 Q418.1467,541.375 420.6467,541.375 Q421.3499,541.375 421.9905,541.5313 Q422.6467,541.6875 423.2092,541.9844 L423.2092,544.7031 Q422.5842,544.125 421.9905,543.8594 Q421.3967,543.5781 420.7717,543.5781 Q419.428,543.5781 418.7405,544.6563 Q418.053,545.7188 418.053,547.8125 Q418.053,549.9063 418.7405,550.9844 Q419.428,552.0469 420.7717,552.0469 Q421.3967,552.0469 421.9905,551.7813 Q422.5842,551.5 423.2092,550.9219 L423.2092,553.6406 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.0176" x="437.7405" y="552.8467">RuntimeControl</text><line style="stroke:#000000;stroke-width:1;" x1="350.24" x2="607.7586" y1="562" y2="562"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="357.24" y="572.6484"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="171.4521" x="367.24" y="578.9951">_shutdown_event: Event</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="357.24" y="588.9453"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="76.5967" x="367.24" y="595.292">_lock: Lock</text><line style="stroke:#000000;stroke-width:1;" x1="350.24" x2="607.7586" y1="602.5938" y2="602.5938"/><ellipse cx="360.24" cy="616.2422" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="173.332" x="367.24" y="619.5889">signal_shutdown(): None</text><ellipse cx="360.24" cy="632.5391" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="170.625" x="367.24" y="635.8857">is_shutting_down(): bool</text><ellipse cx="360.24" cy="648.8359" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="235.5186" x="367.24" y="652.1826">wait_for_shutdown(timeout): bool</text></g><g class="entity" data-entity="GMN10" data-source-line="79" data-uid="ent0011" id="entity_GMN10"><path d="M658.95,124.49 L658.95,210.1541 L865.0413,210.1541 L865.0413,134.49 L855.0413,124.49 L658.95,124.49" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M855.0413,124.49 L855.0413,134.49 L865.0413,134.49 L855.0413,124.49" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.9775" x="664.95" y="141.5569">Service Locator Pattern:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.7354" x="664.95" y="156.6897">- Lazy initialization</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.3052" x="664.95" y="171.8225">- Thread-safe caching</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134.8496" x="664.95" y="186.9553">- Named registration</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="185.0913" x="664.95" y="202.0881">- Constructor arg forwarding</text></g><g class="entity" data-entity="GMN13" data-source-line="87" data-uid="ent0014" id="entity_GMN13"><path d="M656.29,358.99 L656.29,390.25 L612.3,394.25 L656.29,398.25 L656.29,429.5213 A0,0 0 0 0 656.29,429.5213 L901.7177,429.5213 A0,0 0 0 0 901.7177,429.5213 L901.7177,368.99 L891.7177,358.99 L656.29,358.99 A0,0 0 0 0 656.29,358.99" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M891.7177,358.99 L891.7177,368.99 L901.7177,368.99 L891.7177,358.99" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="205.7275" x="662.29" y="376.0569">Protected Construction Pattern:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.0259" x="662.29" y="391.1897">- Prevents direct instantiation</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="224.4277" x="662.29" y="406.3225">- Enforces RuntimeManager usage</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207.9683" x="662.29" y="421.4553">- Thread-safe singleton creation</text></g><!--link RuntimeManager to FinalSingleton--><g class="link" data-entity-1="RuntimeManager" data-entity-2="FinalSingleton" data-source-line="73" data-uid="lnk7" id="link_RuntimeManager_FinalSingleton"><path codeLine="73" d="M284.72,254.97 C320.36,280.34 353.7215,304.0811 386.7715,327.6011" fill="none" id="RuntimeManager-to-FinalSingleton" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="391.66,331.08,386.6465,322.6027,387.5863,328.1809,382.008,329.1207,391.66,331.08" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="59.8584" x="350.3" y="297.5769">manages</text></g><!--link FinalSingleton to RuntimeControl--><g class="link" data-entity-1="FinalSingleton" data-entity-2="RuntimeControl" data-source-line="74" data-uid="lnk8" id="link_FinalSingleton_RuntimeControl"><path codeLine="74" d="M479,457.31 C479,481.58 479,503.35 479,527.62" fill="none" id="FinalSingleton-to-RuntimeControl" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="479,533.62,483,524.62,479,528.62,475,524.62,479,533.62" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="480" y="500.0669">uses</text></g><!--link FinalClass to FinalSingleton--><g class="link" data-entity-1="FinalClass" data-entity-2="FinalSingleton" data-source-line="75" data-uid="lnk9" id="link_FinalClass_FinalSingleton"><path codeLine="75" d="M479,205.97 C479,240.11 479,285.09 479,325.25" fill="none" id="FinalClass-to-FinalSingleton" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="479,331.25,483,322.25,479,326.25,475,322.25,479,331.25" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135.021" x="480" y="297.5769">prevents inheritance</text></g><!--link RuntimeManager to GMN10--><g class="link" data-entity-1="RuntimeManager" data-entity-2="GMN10" data-source-line="79" data-uid="lnk12" id="link_RuntimeManager_GMN10"><path d="M242.37,79.74 C268.81,56.48 300.12,34.42 333.5,22.14 C363.63,11.04 592.38,11 622.5,22.14 C672.33,40.57 712.17,88.3 736.31,124.03" fill="none" id="RuntimeManager-GMN10" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[ZLHDRnen4BtpAwOvqS3c1wmYf8ga9ngXm2sgLiOxx5eO6zb3A47yzuxDrx8nQVTYo_FU-CsRyNwZ6fS8AosKwNHMGYv4XN0tj0vX9BRexc3N0Vwa5jx3wzgGMk8lOHZcZg7mxJm9Kd8FMQ4Cxur4dyEJalJcoVNXXzd-Je5ZscleTBl299PgXw8ij9MBAyA83ow4BFlCxNcahaVthYJsuLwuolDolzY4tVSSNgp11AlwcZLDKF2FykHFB0RDhDNfr8NG-c9Mbx4ZvhwbdUf9ZS9rcrhtdKPZVYeZz4IPIYDPyt-D8JQw3nFKywJTmUSSNeExANDxHM5mKnHTgNtAdP3t0XP-QoGhKDHj-ztRYHdtKKZQWw_NLDgD-KUXmxYz5Fduk4GI4J0OV2bsALcb4KikV2PuyFfGIkBBWXUVBpkE-z0QSbQdNJr9Bl0T3UNm79RRVjwoip6hgk8IYwGLrqZb8uguxSK9UcFUDa9HCRVkaZOKPjVKf1nhRptoXuT1UxnoMCQWZ_XMCCi6RUDoMFic-D2_PEALYpvwKAP6f-B0TbYOiOJWL5KJs7bBOamyEJovOB0Wws0iYD2PF0Op_fbzR27Cdn9QVR0hrXmZq_XRoRoO8qWXQnPpZBpmd9JWi59XFXiKhejFrZBSm-CER2oFVHcOQ4e8MjkAhmkDUSQE4PBuYdC-lg8jV7mof5IEqN1unLn6Gy-pOGNyiDkjMtjU4cNwi-6I3sEYi-w_]--></g></svg>