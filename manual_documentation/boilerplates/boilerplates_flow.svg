<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1318px" preserveAspectRatio="none" style="width:1088px;height:1318px;background:#FFFFFF;" version="1.1" viewBox="0 0 1088 1318" width="1088px" zoomAndPan="magnify"><defs/><g><g><title>Endpoint</title><rect fill="#FFFFFF" height="1114.125" style="stroke:#000000;stroke-width:1;" width="10" x="188.4907" y="113.4297"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="166.6953"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="267.0938"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="292" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="398.625"/></g><g><title>BoilerplateNonHTTP</title><rect fill="#FFFFFF" height="241.7344" style="stroke:#000000;stroke-width:1;" width="10" x="596.9351" y="427.7578"/></g><g><title>BoilerplateResponses</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#000000;stroke-width:1;" width="10" x="786.2842" y="750.8906"/></g><g><title>BoilerplateResponses</title><rect fill="#FFFFFF" height="187.7969" style="stroke:#000000;stroke-width:1;" width="10" x="786.2842" y="995.625"/></g><rect fill="#FFFFFF" height="217.9297" style="stroke:#000000;stroke-width:1;" width="461.8716" x="135.3359" y="128.4297"/><rect fill="#FFFFFF" height="338.2656" style="stroke:#000000;stroke-width:1;" width="887.394" x="135.3359" y="360.3594"/><rect fill="#FFFFFF" height="119.3359" style="stroke:#000000;stroke-width:1;" width="692.0034" x="320.7266" y="543.1563"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1;" width="692.0034" x="320.7266" y="618.5547"/><rect fill="#FFFFFF" height="507.9297" style="stroke:#000000;stroke-width:1;" width="1066.1616" x="15" y="712.625"/><rect fill="#FFFFFF" height="303" style="stroke:none;stroke-width:1;" width="1066.1616" x="15" y="917.5547"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="44.2651" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="48" x2="48" y1="82.2969" y2="1237.5547"/></g><g><title>Endpoint</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="189.4907" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="193.3359" x2="193.3359" y1="82.2969" y2="1237.5547"/></g><g><title>BoilerplateIncoming</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="413.8906" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="417.7266" x2="417.7266" y1="82.2969" y2="1237.5547"/></g><g><title>BoilerplateNonHTTP</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="597.9351" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="601.0547" x2="601.0547" y1="82.2969" y2="1237.5547"/></g><g><title>BoilerplateResponses</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="787.2842" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="790.8154" x2="790.8154" y1="82.2969" y2="1237.5547"/></g><g><title>SQL</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="967.877" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="971.0239" x2="971.0239" y1="82.2969" y2="1237.5547"/></g><g><title>HCI</title><rect fill="#000000" fill-opacity="0.00000" height="1155.2578" width="8" x="1037.9458" y="82.2969"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1041.73" x2="1041.73" y1="82.2969" y2="1237.5547"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="25" y="78.9951">Client</text><ellipse cx="48.2651" cy="14" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M48.2651,22 L48.2651,49 M35.2651,30 L61.2651,30 M48.2651,49 L35.2651,64 M48.2651,49 L61.2651,64" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="25" y="1249.5498">Client</text><ellipse cx="48.2651" cy="1261.8516" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M48.2651,1269.8516 L48.2651,1296.8516 M35.2651,1277.8516 L61.2651,1277.8516 M48.2651,1296.8516 L35.2651,1311.8516 M48.2651,1296.8516 L61.2651,1311.8516" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-participant="EP"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="76.3096" x="155.3359" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62.3096" x="162.3359" y="70.9951">Endpoint</text></g><g class="participant participant-tail" data-participant="EP"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="76.3096" x="155.3359" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62.3096" x="162.3359" y="1256.5498">Endpoint</text></g><g class="participant participant-head" data-participant="BI"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="154.3281" x="340.7266" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.3281" x="347.7266" y="70.9951">BoilerplateIncoming</text></g><g class="participant participant-tail" data-participant="BI"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="154.3281" x="340.7266" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.3281" x="347.7266" y="1256.5498">BoilerplateIncoming</text></g><g class="participant participant-head" data-participant="BN"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.7607" x="525.0547" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.7607" x="532.0547" y="70.9951">BoilerplateNonHTTP</text></g><g class="participant participant-tail" data-participant="BN"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.7607" x="525.0547" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.7607" x="532.0547" y="1256.5498">BoilerplateNonHTTP</text></g><g class="participant participant-head" data-participant="BR"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="164.9375" x="708.8154" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150.9375" x="715.8154" y="70.9951">BoilerplateResponses</text></g><g class="participant participant-tail" data-participant="BR"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="164.9375" x="708.8154" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150.9375" x="715.8154" y="1256.5498">BoilerplateResponses</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="41.7061" x="951.0239" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="27.7061" x="958.0239" y="70.9951">SQL</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="41.7061" x="951.0239" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="27.7061" x="958.0239" y="1256.5498">SQL</text></g><g class="participant participant-head" data-participant="HTTP"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="38.4316" x="1022.73" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="24.4316" x="1029.73" y="70.9951">HCI</text></g><g class="participant participant-tail" data-participant="HTTP"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="38.4316" x="1022.73" y="1236.5547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="24.4316" x="1029.73" y="1256.5498">HCI</text></g><g><title>Endpoint</title><rect fill="#FFFFFF" height="1114.125" style="stroke:#000000;stroke-width:1;" width="10" x="188.4907" y="113.4297"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="166.6953"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="267.0938"/></g><g><title>BoilerplateIncoming</title><rect fill="#FFFFFF" height="292" style="stroke:#000000;stroke-width:1;" width="10" x="412.8906" y="398.625"/></g><g><title>BoilerplateNonHTTP</title><rect fill="#FFFFFF" height="241.7344" style="stroke:#000000;stroke-width:1;" width="10" x="596.9351" y="427.7578"/></g><g><title>BoilerplateResponses</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#000000;stroke-width:1;" width="10" x="786.2842" y="750.8906"/></g><g><title>BoilerplateResponses</title><rect fill="#FFFFFF" height="187.7969" style="stroke:#000000;stroke-width:1;" width="10" x="786.2842" y="995.625"/></g><g class="message" data-participant-1="Client" data-participant-2="EP"><polygon fill="#000000" points="176.4907,109.4297,186.4907,113.4297,176.4907,117.4297,180.4907,113.4297" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="48.2651" x2="182.4907" y1="113.4297" y2="113.4297"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="91.019" x="55.2651" y="108.3638">HTTP Request</text></g><path d="M135.3359,128.4297 L319.6987,128.4297 L319.6987,135.5625 L309.6987,145.5625 L135.3359,145.5625 L135.3359,128.4297" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="217.9297" style="stroke:#000000;stroke-width:1;" width="461.8716" x="135.3359" y="128.4297"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139.3628" x="150.3359" y="141.4966">Request Validation</text><g class="message" data-participant-1="EP" data-participant-2="BI"><polygon fill="#000000" points="400.8906,162.6953,410.8906,166.6953,400.8906,170.6953,404.8906,166.6953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="406.8906" y1="166.6953" y2="166.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.8438" x="205.4907" y="161.6294">get_body(request)</text></g><g class="message" data-participant-1="BI" data-participant-2="BI"><line style="stroke:#000000;stroke-width:1;" x1="422.8906" x2="464.8906" y1="195.8281" y2="195.8281"/><line style="stroke:#000000;stroke-width:1;" x1="464.8906" x2="464.8906" y1="195.8281" y2="208.8281"/><line style="stroke:#000000;stroke-width:1;" x1="423.8906" x2="464.8906" y1="208.8281" y2="208.8281"/><polygon fill="#000000" points="433.8906,204.8281,423.8906,208.8281,433.8906,212.8281,429.8906,208.8281" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="140.8418" x="429.8906" y="190.7622">parse JSON/form data</text></g><g class="message" data-participant-1="BI" data-participant-2="EP"><polygon fill="#000000" points="209.4907,233.9609,199.4907,237.9609,209.4907,241.9609,205.4907,237.9609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="203.4907" x2="416.8906" y1="237.9609" y2="237.9609"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.3916" x="215.4907" y="232.895">body dict</text></g><g class="message" data-participant-1="EP" data-participant-2="BI"><polygon fill="#000000" points="400.8906,263.0938,410.8906,267.0938,400.8906,271.0938,404.8906,267.0938" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="406.8906" y1="267.0938" y2="267.0938"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="195.3999" x="205.4907" y="262.0278">get_token_if_present(request)</text></g><g class="message" data-participant-1="BI" data-participant-2="BI"><line style="stroke:#000000;stroke-width:1;" x1="422.8906" x2="464.8906" y1="296.2266" y2="296.2266"/><line style="stroke:#000000;stroke-width:1;" x1="464.8906" x2="464.8906" y1="296.2266" y2="309.2266"/><line style="stroke:#000000;stroke-width:1;" x1="423.8906" x2="464.8906" y1="309.2266" y2="309.2266"/><polygon fill="#000000" points="433.8906,305.2266,423.8906,309.2266,433.8906,313.2266,429.8906,309.2266" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145.3169" x="429.8906" y="291.1606">check headers &amp; body</text></g><g class="message" data-participant-1="BI" data-participant-2="EP"><polygon fill="#000000" points="209.4907,334.3594,199.4907,338.3594,209.4907,342.3594,205.4907,338.3594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="203.4907" x2="416.8906" y1="338.3594" y2="338.3594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.2949" x="215.4907" y="333.2935">token or None</text></g><path d="M135.3359,360.3594 L304.0581,360.3594 L304.0581,367.4922 L294.0581,377.4922 L135.3359,377.4922 L135.3359,360.3594" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="338.2656" style="stroke:#000000;stroke-width:1;" width="887.394" x="135.3359" y="360.3594"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123.7222" x="150.3359" y="373.4263">Token Validation</text><g class="message" data-participant-1="EP" data-participant-2="BI"><polygon fill="#000000" points="400.8906,394.625,410.8906,398.625,400.8906,402.625,404.8906,398.625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="406.8906" y1="398.625" y2="398.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149.1953" x="205.4907" y="393.5591">token_correct(request)</text></g><g class="message" data-participant-1="BI" data-participant-2="BN"><polygon fill="#000000" points="584.9351,423.7578,594.9351,427.7578,584.9351,431.7578,588.9351,427.7578" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="422.8906" x2="590.9351" y1="427.7578" y2="427.7578"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="153.1943" x="429.8906" y="422.6919">is_token_correct(token)</text></g><g class="message" data-participant-1="BN" data-participant-2="DB"><polygon fill="#000000" points="959.877,452.8906,969.877,456.8906,959.877,460.8906,963.877,456.8906" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="606.9351" x2="965.877" y1="456.8906" y2="456.8906"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159.0469" x="613.9351" y="451.8247">query Connections table</text></g><g class="message" data-participant-1="DB" data-participant-2="BN"><polygon fill="#000000" points="617.9351,482.0234,607.9351,486.0234,617.9351,490.0234,613.9351,486.0234" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="611.9351" x2="970.877" y1="486.0234" y2="486.0234"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="70.2305" x="623.9351" y="480.9575">token data</text></g><g class="message" data-participant-1="BN" data-participant-2="BN"><line style="stroke:#000000;stroke-width:1;" x1="606.9351" x2="648.9351" y1="515.1563" y2="515.1563"/><line style="stroke:#000000;stroke-width:1;" x1="648.9351" x2="648.9351" y1="515.1563" y2="528.1563"/><line style="stroke:#000000;stroke-width:1;" x1="607.9351" x2="648.9351" y1="528.1563" y2="528.1563"/><polygon fill="#000000" points="617.9351,524.1563,607.9351,528.1563,617.9351,532.1563,613.9351,528.1563" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.9609" x="613.9351" y="510.0903">check expiration</text></g><path d="M320.7266,543.1563 L385.1694,543.1563 L385.1694,550.2891 L375.1694,560.2891 L320.7266,560.2891 L320.7266,543.1563" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="119.3359" style="stroke:#000000;stroke-width:1;" width="692.0034" x="320.7266" y="543.1563"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="335.7266" y="556.2231">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="81.5601" x="400.1694" y="555.3667">[Token valid]</text><g class="message" data-participant-1="BN" data-participant-2="DB"><polygon fill="#000000" points="959.877,577.4219,969.877,581.4219,959.877,585.4219,963.877,581.4219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="606.9351" x2="965.877" y1="581.4219" y2="581.4219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.1748" x="613.9351" y="576.356">refresh expiration</text></g><g class="message" data-participant-1="BN" data-participant-2="BI"><polygon fill="#000000" points="433.8906,606.5547,423.8906,610.5547,433.8906,614.5547,429.8906,610.5547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="427.8906" x2="595.9351" y1="610.5547" y2="610.5547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.5229" x="439.8906" y="605.4888">True</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="320.7266" x2="1012.73" y1="619.5547" y2="619.5547"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.1387" x="325.7266" y="629.7651">[Token invalid/expired]</text><g class="message" data-participant-1="BN" data-participant-2="BI"><polygon fill="#000000" points="433.8906,650.4922,423.8906,654.4922,433.8906,658.4922,429.8906,654.4922" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="427.8906" x2="595.9351" y1="654.4922" y2="654.4922"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="33.8267" x="439.8906" y="649.4263">False</text></g><g class="message" data-participant-1="BI" data-participant-2="EP"><polygon fill="#000000" points="209.4907,686.625,199.4907,690.625,209.4907,694.625,205.4907,690.625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="203.4907" x2="416.8906" y1="690.625" y2="690.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="105.1997" x="215.4907" y="685.5591">validation result</text></g><path d="M15,712.625 L79.4429,712.625 L79.4429,719.7578 L69.4429,729.7578 L15,729.7578 L15,712.625" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="507.9297" style="stroke:#000000;stroke-width:1;" width="1066.1616" x="15" y="712.625"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="30" y="725.6919">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124.1958" x="94.4429" y="724.8354">[Not Authenticated]</text><g class="message" data-participant-1="EP" data-participant-2="BR"><polygon fill="#000000" points="774.2842,746.8906,784.2842,750.8906,774.2842,754.8906,778.2842,750.8906" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="780.2842" y1="750.8906" y2="750.8906"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="212.9067" x="205.4907" y="745.8247">not_logged_in("Endpoint Name")</text></g><g class="message" data-participant-1="BR" data-participant-2="BR"><line style="stroke:#000000;stroke-width:1;" x1="796.2842" x2="838.2842" y1="780.0234" y2="780.0234"/><line style="stroke:#000000;stroke-width:1;" x1="838.2842" x2="838.2842" y1="780.0234" y2="793.0234"/><line style="stroke:#000000;stroke-width:1;" x1="797.2842" x2="838.2842" y1="793.0234" y2="793.0234"/><polygon fill="#000000" points="807.2842,789.0234,797.2842,793.0234,807.2842,797.0234,803.2842,793.0234" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.5928" x="803.2842" y="774.9575">build_response_body()</text></g><g class="message" data-participant-1="BR" data-participant-2="HTTP"><polygon fill="#000000" points="1029.9458,818.1563,1039.9458,822.1563,1029.9458,826.1563,1033.9458,822.1563" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="796.2842" x2="1035.9458" y1="822.1563" y2="822.1563"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96.1479" x="803.2842" y="817.0903">unauthorized()</text></g><g class="message" data-participant-1="HTTP" data-participant-2="BR"><polygon fill="#000000" points="807.2842,847.2891,797.2842,851.2891,807.2842,855.2891,803.2842,851.2891" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="801.2842" x2="1040.9458" y1="851.2891" y2="851.2891"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97.9761" x="813.2842" y="846.2231">Response(401)</text></g><g class="message" data-participant-1="BR" data-participant-2="EP"><polygon fill="#000000" points="209.4907,876.4219,199.4907,880.4219,209.4907,884.4219,205.4907,880.4219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="203.4907" x2="790.2842" y1="880.4219" y2="880.4219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95.4497" x="215.4907" y="875.356">error response</text></g><g class="message" data-participant-1="EP" data-participant-2="Client"><polygon fill="#000000" points="59.2651,905.5547,49.2651,909.5547,59.2651,913.5547,55.2651,909.5547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="53.2651" x2="187.4907" y1="909.5547" y2="909.5547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="65.2651" y="904.4888">401 Unauthorized</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="15" x2="1081.1616" y1="918.5547" y2="918.5547"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98.3447" x="20" y="928.7651">[Authenticated]</text><g class="message" data-participant-1="EP" data-participant-2="EP"><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="240.4907" y1="953.4922" y2="953.4922"/><line style="stroke:#000000;stroke-width:1;" x1="240.4907" x2="240.4907" y1="953.4922" y2="966.4922"/><line style="stroke:#000000;stroke-width:1;" x1="199.4907" x2="240.4907" y1="966.4922" y2="966.4922"/><polygon fill="#000000" points="209.4907,962.4922,199.4907,966.4922,209.4907,970.4922,205.4907,966.4922" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145.7422" x="205.4907" y="948.4263">process business logic</text></g><g class="message" data-participant-1="EP" data-participant-2="BR"><polygon fill="#000000" points="774.2842,991.625,784.2842,995.625,774.2842,999.625,778.2842,995.625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="198.4907" x2="780.2842" y1="995.625" y2="995.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.5928" x="205.4907" y="990.5591">build_response_body()</text></g><g class="message" data-participant-1="BR" data-participant-2="BN"><polygon fill="#000000" points="612.9351,1020.7578,602.9351,1024.7578,612.9351,1028.7578,608.9351,1024.7578" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="606.9351" x2="785.2842" y1="1024.7578" y2="1024.7578"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="153.1943" x="618.9351" y="1019.6919">is_token_correct(token)</text></g><g class="message" data-participant-1="BN" data-participant-2="BR"><polygon fill="#000000" points="774.2842,1049.8906,784.2842,1053.8906,774.2842,1057.8906,778.2842,1053.8906" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="601.9351" x2="780.2842" y1="1053.8906" y2="1053.8906"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.5229" x="608.9351" y="1048.8247">True</text></g><g class="message" data-participant-1="BR" data-participant-2="BR"><line style="stroke:#000000;stroke-width:1;" x1="796.2842" x2="838.2842" y1="1083.0234" y2="1083.0234"/><line style="stroke:#000000;stroke-width:1;" x1="838.2842" x2="838.2842" y1="1083.0234" y2="1096.0234"/><line style="stroke:#000000;stroke-width:1;" x1="797.2842" x2="838.2842" y1="1096.0234" y2="1096.0234"/><polygon fill="#000000" points="807.2842,1092.0234,797.2842,1096.0234,807.2842,1100.0234,803.2842,1096.0234" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="126.4644" x="803.2842" y="1077.9575">add logged_in: true</text></g><g class="message" data-participant-1="BR" data-participant-2="HTTP"><polygon fill="#000000" points="1029.9458,1121.1563,1039.9458,1125.1563,1029.9458,1129.1563,1033.9458,1125.1563" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="796.2842" x2="1035.9458" y1="1125.1563" y2="1125.1563"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="25.6255" x="803.2842" y="1120.0903">ok()</text></g><g class="message" data-participant-1="HTTP" data-participant-2="BR"><polygon fill="#000000" points="807.2842,1150.2891,797.2842,1154.2891,807.2842,1158.2891,803.2842,1154.2891" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="801.2842" x2="1040.9458" y1="1154.2891" y2="1154.2891"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97.9761" x="813.2842" y="1149.2231">Response(200)</text></g><g class="message" data-participant-1="BR" data-participant-2="EP"><polygon fill="#000000" points="209.4907,1179.4219,199.4907,1183.4219,209.4907,1187.4219,205.4907,1183.4219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="203.4907" x2="790.2842" y1="1183.4219" y2="1183.4219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.3149" x="215.4907" y="1178.356">success response</text></g><g class="message" data-participant-1="EP" data-participant-2="Client"><polygon fill="#000000" points="59.2651,1208.5547,49.2651,1212.5547,59.2651,1216.5547,55.2651,1212.5547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="53.2651" x2="187.4907" y1="1212.5547" y2="1212.5547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112.8296" x="65.2651" y="1207.4888">200 OK with data</text></g><!--SRC=[bLHDSzCm4BtxLomvCEaXqy1moe4PafPfW76B6xXw56cJQE98Hf83vTUpaYmtpaU1MoozztRVMsrUkGtk4EgAIPLbZ3jjO5P9L2whcN6Iovef1uDR9MejbHi0it3xqB-SQbcX8Gs7SyNrJgfrm4td5t6vLdUBnKE4vHTX1TfQAuis0ei-yF7hbt1-C-sVtytcuTnNoB9e1qRlgM-OX4Cey4U3rdd3SazrlALiRNHJfolupYefc9DQPU2Pn9_EYRz6LowrU1gQ2BoYwqw678E79J2rPH4-FTxdrojjTa22h4MaVhmM2CaTdGliAvrMTdgBgfIhiZPeoTO_TS4toBUmGIRGM7WTIXvr4NI1Xa-3mPDEK8aKpo80BuKJs-FQ6EH_xoqdXhHbdnI- -fJSKt9FkPaIXKJD4yoqKeId5YmujgnyrtGzIiBHKGeyxmh6CF1NBKqom2hN-jfxNtJIgsTmHM5l-fo8IBuNfl7riQ9fHoMfWjPr8A4uONnaXFKK9OxYpez6i- -ofaviKxdpu_4cSktWGqChhMWPw58yJwSW9QLTMUdr6aKfrR3RQSZP3WVzo0lVHD4nbusiH6dQROpl_wg3X9MQGACOrTP6_aOHRiFvA6caNHw-6xz9tEGHZQ6tb_IF31Qj2mAtkpm1qe1l1_Mo4Frvxw52RJH7Qyc9bSh_e20ax-TpoUNPM5v-l6dKnVFZE8YJ2G7T8EYf7WBQCFNsfGZVZiV74Tg61uF_4IAfmFrd-2dT9YvAU4W7BFfN_0C0]--></g></svg>